# 低代码系统

### 关键模块

#### 渲染器

* UI组件composition，实现可嵌套flex风格的容器组件
* 提供一个UI绘制引擎，比如需要混合使用canvas、svg、webgl、html、css等的一种或几种渲染技术来实现，这个图形引擎由日常业务开发抽象出来的基础组件来构造，既有通用能力也含有领域能力，根据公司业务情况权衡两种能力的实现。
* schema定义

#### 编辑器
* 画布，组件列表，操作按钮，网格化，可拖拽+精准定位
#### 表单生成器
* 通过数据模型中的schema定义来自动生成表单

### 一些细节
* schema的定义通过joi这样的编程化风格来编写，但是会转换为jsonSchema，再作为表单生成器的输入，主要原因是通过joi schema直接生成表单可能会比较困难，没有现成的开源方案可以参考，实现成本高。我的方案是借鉴jsonform来实现，使用vue重写UI层，使用自己比较熟悉的ant-design作为UI库
* ~~UI组件的层级关系一般并没有强制要求，如果是同级的组件，在没有布局约束的情况下则可以借助网格来排布，非弹性布局，编辑器使用网格化的组件排布，拖拽时通过自动吸附算法实现精准定位，网格的大小是8px,8px，网格大小可配置;【非必要，可能只在作图时需要】~~
* 流式布局、弹性布局可使用flex容器,其实对于一般页面，使用flex布局和盒子模型就能满足需求，如果是页面脚手架之类的则需要单独开发定制，低代码只关注主要内容区域的页面。
* 可定制的交互逻辑和【UI、通用逻辑】进行解耦，可以继承原子组件吗？vue3不支持类组件。那还是应该使用生命周期钩子，每类组件定义通用的生命周期钩子和特定的生命周期钩子，从而实现逻辑的扩展

### 展望
* 除了渲染器的UI绘制引擎中含有部分的领域能力是特殊的要求，其他均是通用能力，搭好这个基础设施后，领域能力可以通过插件化的方式来提供，这样就能逐步适配所有的场景。
* 渲染器实际上是提供了前端的低代码能力，但其实后端模块同样可以借助schema定义生成表单的思路来实现后端的代码的自动生成，也是一种低代码的实现。
* 还可以提供预览、自动化测试和部署等能力。

